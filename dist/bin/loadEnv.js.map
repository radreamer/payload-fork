{"version":3,"sources":["../../src/bin/loadEnv.ts"],"sourcesContent":["// @ts-strict-ignore\nimport nextEnvImport from '@next/env'\n\nimport { findUpSync } from '../utilities/findUp.js'\nconst { loadEnvConfig } = nextEnvImport\n\n/**\n * Try to find user's env files and load it. Uses the same algorithm next.js uses to parse env files, meaning this also supports .env.local, .env.development, .env.production, etc.\n */\nexport function loadEnv(path?: string) {\n  if (path?.length) {\n    loadEnvConfig(path, true)\n    return\n  }\n\n  const { loadedEnvFiles } = loadEnvConfig(process.cwd(), true) // assuming this won't run in production\n\n  if (!loadedEnvFiles?.length) {\n    // use findUp to find the env file. So, run loadEnvConfig for every directory upwards\n    findUpSync({\n      condition: (dir) => {\n        const { loadedEnvFiles } = loadEnvConfig(dir, true)\n        if (loadedEnvFiles?.length) {\n          return true\n        }\n      },\n      dir: process.cwd(),\n    })\n  }\n}\n"],"names":["nextEnvImport","findUpSync","loadEnvConfig","loadEnv","path","length","loadedEnvFiles","process","cwd","condition","dir"],"mappings":"AAAA,oBAAoB;AACpB,OAAOA,mBAAmB,YAAW;AAErC,SAASC,UAAU,QAAQ,yBAAwB;AACnD,MAAM,EAAEC,aAAa,EAAE,GAAGF;AAE1B;;CAEC,GACD,OAAO,SAASG,QAAQC,IAAa;IACnC,IAAIA,MAAMC,QAAQ;QAChBH,cAAcE,MAAM;QACpB;IACF;IAEA,MAAM,EAAEE,cAAc,EAAE,GAAGJ,cAAcK,QAAQC,GAAG,IAAI,MAAM,wCAAwC;;IAEtG,IAAI,CAACF,gBAAgBD,QAAQ;QAC3B,qFAAqF;QACrFJ,WAAW;YACTQ,WAAW,CAACC;gBACV,MAAM,EAAEJ,cAAc,EAAE,GAAGJ,cAAcQ,KAAK;gBAC9C,IAAIJ,gBAAgBD,QAAQ;oBAC1B,OAAO;gBACT;YACF;YACAK,KAAKH,QAAQC,GAAG;QAClB;IACF;AACF"}